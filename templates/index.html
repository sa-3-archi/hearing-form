<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ヒアリングフォーム</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/globals.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>


<body> 
  <div class="form-wrapper">
    <div class="form-container">
      <form class="hearing-form" method="POST" action="/submit" enctype="multipart/form-data">
        <input type="hidden" name="form_type" id="form_type">

              <!-- 基本情報ヒアリングシート -->
<div class="section" id="basic-info-form">
  <input type="hidden" name="form_type" value="basic_info">
  <h2 class="form-title">ヒヤリングシート（基本情報）</h2>

  <div class="form-group">
    <label for="user_name">【お名前】<span class="required">※</span></label>
    <input type="text" id="user_name" name="user_name" class="input" required value="{{ form_data.get('user_name', '') }}">
    {% if errors and "お名前は必須です。" in errors %}
      <p class="error-text">ここを入力してください</p>
    {% endif %}
  </div>

  <div class="form-group">
    <label for="user_email">【メールアドレス】<span class="required">※</span></label>
    <input type="text" id="user_email" name="user_email" class="input" required value="{{ form_data.get('user_email', '') }}">
    {% if errors and "メールアドレスは必須です。" in errors %}
      <p class="error-text">ここを入力してください</p>
    {% endif %}
  </div>

  <div class="form-group">
    <label for="company_name">【会社名または屋号】<span class="required">※</span></label>
    <input type="text" id="company_name" name="company_name" class="input" required value="{{ form_data.get('company_name', '') }}">
    {% if errors and "会社名または屋号は必須です。" in errors %}
      <p class="error-text">ここを入力してください</p>
    {% endif %}
  </div>

  <div class="form-group">
    <label for="address">【住所】</label>
    <input type="text" id="address" name="address" class="input" value="{{ form_data.get('address', '') }}">
  </div>

  <div class="form-group">
    <label for="phone">【電話番号】<span class="required">※</span></label>
    <input type="text" id="phone" name="phone" class="input" required value="{{ form_data.get('phone', '') }}">
    {% if errors and "電話番号は必須です。" in errors %}
      <p class="error-text">ここを入力してください</p>
    {% endif %}
  </div>

  <div class="form-group">
    <p>【ご希望のアイテム】<span class="required">※</span></p>
    <label><input type="radio" name="item_choice" value="logo" required> ロゴデザインのみ</label><br>
    <label><input type="radio" name="item_choice" value="both"> ロゴ＋名刺デザイン</label><br>
    <label><input type="radio" name="item_choice" value="business_card"> 名刺デザインのみ</label>
  </div>

  <div class="form-group" style="text-align: center;">
    <button type="button" class="submit-btn" id="next-button">次へ</button>
  </div>
</div>


          
          
        </div>
    </div>
  </div>


  
      <div class="section hearing-form" id="logo-form">

    
        <input type="hidden" name="form_type" value="logo_only">
          <h2 class="form-title">ロゴデザイン</h2>

            <div class="form-group">
              <label class="section-title">主なターゲット層（客層）<span class="required">※</span></label>
              <input name="logo_target" placeholder="例：20代女性向けの美容サロン" required type="text" value="{{ form_data.get('logo_target', '') }}">
              {% if errors and "主なターゲット層は必須です。" in errors %}
                <p class="error-text">ここを入力してください</p>
              {% endif %}

   <div class="form-group">
  <label class="section-title">主なターゲットの年齢層<span class="required">※</span></label>
  <select name="logo_age_group" required>
    <option value="">選択してください</option>
    <option value="10s" {% if form_data.get("logo_age_group") == "10s" %}selected{% endif %}>10代〜</option>
    <option value="20s-30s" {% if form_data.get("logo_age_group") == "20s-30s" %}selected{% endif %}>20代〜30代</option>
    <option value="40s-50s" {% if form_data.get("logo_age_group") == "40s-50s" %}selected{% endif %}>40代〜50代</option>
    <option value="60s" {% if form_data.get("logo_age_group") == "60s" %}selected{% endif %}>60代〜</option>
  </select>
  {% if errors and "年齢層の選択は必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>


<!-- 🎯 デザインキーワード（複数選択・必須） -->
<div class="form-group">
  <div class="design-keywords">
    <label class="section-title">デザインキーワード <span class="required">※</span></label>
    <div class="checkbox-grid">
      <label><input name="keywords" type="checkbox" value="可愛い・キュート" {% if form_data.get("keywords") and "可愛い・キュート" in form_data.get("keywords") %}checked{% endif %}>可愛い・キュート</label>
      <label><input name="keywords" type="checkbox" value="カジュアル" {% if form_data.get("keywords") and "カジュアル" in form_data.get("keywords") %}checked{% endif %}>カジュアル</label>
      <label><input name="keywords" type="checkbox" value="ポップ" {% if form_data.get("keywords") and "ポップ" in form_data.get("keywords") %}checked{% endif %}>ポップ</label>
      <label><input name="keywords" type="checkbox" value="カラフル" {% if form_data.get("keywords") and "カラフル" in form_data.get("keywords") %}checked{% endif %}>カラフル</label>
      <label><input name="keywords" type="checkbox" value="ゴージャス" {% if form_data.get("keywords") and "ゴージャス" in form_data.get("keywords") %}checked{% endif %}>ゴージャス</label>
      <label><input name="keywords" type="checkbox" value="にぎやか" {% if form_data.get("keywords") and "にぎやか" in form_data.get("keywords") %}checked{% endif %}>にぎやか</label>
      <label><input name="keywords" type="checkbox" value="モダン" {% if form_data.get("keywords") and "モダン" in form_data.get("keywords") %}checked{% endif %}>モダン</label>
      <label><input name="keywords" type="checkbox" value="ナチュラル" {% if form_data.get("keywords") and "ナチュラル" in form_data.get("keywords") %}checked{% endif %}>ナチュラル</label>
      <label><input name="keywords" type="checkbox" value="シック" {% if form_data.get("keywords") and "シック" in form_data.get("keywords") %}checked{% endif %}>シック</label>
      <label><input name="keywords" type="checkbox" value="クール" {% if form_data.get("keywords") and "クール" in form_data.get("keywords") %}checked{% endif %}>クール</label>
      <label><input name="keywords" type="checkbox" value="エレガント" {% if form_data.get("keywords") and "エレガント" in form_data.get("keywords") %}checked{% endif %}>エレガント</label>
      <label><input name="keywords" type="checkbox" value="高級感" {% if form_data.get("keywords") and "高級感" in form_data.get("keywords") %}checked{% endif %}>高級感</label>
      <label><input name="keywords" type="checkbox" value="知性的" {% if form_data.get("keywords") and "知性的" in form_data.get("keywords") %}checked{% endif %}>知性的</label>
      <label><input name="keywords" type="checkbox" value="パステル" {% if form_data.get("keywords") and "パステル" in form_data.get("keywords") %}checked{% endif %}>パステル</label>
      <label><input name="keywords" type="checkbox" value="シンプル" {% if form_data.get("keywords") and "シンプル" in form_data.get("keywords") %}checked{% endif %}>シンプル</label>
      <label><input name="keywords" type="checkbox" value="清潔な" {% if form_data.get("keywords") and "清潔な" in form_data.get("keywords") %}checked{% endif %}>清潔な</label>
      <label><input name="keywords" type="checkbox" value="派手" {% if form_data.get("keywords") and "派手" in form_data.get("keywords") %}checked{% endif %}>派手</label>
      <label><input name="keywords" type="checkbox" value="その他" {% if form_data.get("keywords") and "その他" in form_data.get("keywords") %}checked{% endif %}>その他</label>
    </div>

    {% if errors and "デザインキーワードは1つ以上選択してください。" in errors %}
      <p class="error-text">ここを選択してください</p>
    {% endif %}
  </div>
</div>


<!-- 🎨 イメージカラー（複数選択可・必須） -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="red"
    {% if form_data.get("logo_colors") and "red" in form_data.get("logo_colors") %}checked{% endif %}>
  <span class="color-label">赤系（快活・若々しい・温かみ）</span>
  <div class="color-sample">
    <span style="background-color: #ff9999;"></span>
    <span style="background-color: #ff6666;"></span>
    <span style="background-color: #ff4d88;"></span>
    <span style="background-color: #ff3377;"></span>
    <span style="background-color: #ff66b2;"></span>
  </div>
</label>

<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="blue"
    {% if form_data.get("logo_colors") and "blue" in form_data.get("logo_colors") %}checked{% endif %}>
  <span class="color-label">青系（堅実・信頼・クール）</span>
  <div class="color-sample">
    <span style="background-color: #336699;"></span>
    <span style="background-color: #4477aa;"></span>
    <span style="background-color: #6699cc;"></span>
    <span style="background-color: #99bbdd;"></span>
    <span style="background-color: #cce5ff;"></span>
  </div>
</label>

<!-- 水色系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="lightblue"
  {% if form_data.get("logo_colors") and "lightblue" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">水色系（さわやか・信頼・クール）</span>
<div class="color-sample">
<span style="background-color: #a8e6ff;"></span>
<span style="background-color: #81d4fa;"></span>
<span style="background-color: #4fc3f7;"></span>
<span style="background-color: #29b6f6;"></span>
<span style="background-color: #03a9f4;"></span>
</div>
</label>
<!-- 茶系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="brown"
  {% if form_data.get("logo_colors") and "brown" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">茶系（自然・モダン・高級感）</span>
<div class="color-sample">
<span style="background-color: #a0522d;"></span>
<span style="background-color: #8b4513;"></span>
<span style="background-color: #a67c52;"></span>
<span style="background-color: #d2b48c;"></span>
<span style="background-color: #c8b199;"></span>
</div>
</label>
<!-- 緑系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="green"
  {% if form_data.get("logo_colors") and "green" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">緑系（健康・ナチュラル）</span>
<div class="color-sample">
<span style="background-color: #66bb6a;"></span>
<span style="background-color: #81c784;"></span>
<span style="background-color: #a5d6a7;"></span>
<span style="background-color: #c8e6c9;"></span>
<span style="background-color: #388e3c;"></span>
</div>
</label>
<!-- 黄・オレンジ系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="yellow_orange"
  {% if form_data.get("logo_colors") and "yellow_orange" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">黄・オレンジ系（ポップ・にぎやか）</span>
<div class="color-sample">
<span style="background-color: #fff176;"></span>
<span style="background-color: #ffd54f;"></span>
<span style="background-color: #ffb74d;"></span>
<span style="background-color: #ffa726;"></span>
<span style="background-color: #ff9800;"></span>
</div>
</label>
<!-- グレー系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="gray"
  {% if form_data.get("logo_colors") and "gray" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">グレー系（重厚・シック・高級感）</span>
<div class="color-sample">
<span style="background-color: #999;"></span>
<span style="background-color: #bbb;"></span>
<span style="background-color: #ccc;"></span>
<span style="background-color: #ddd;"></span>
<span style="background-color: #eee;"></span>
</div>
</label>
<!-- 紫系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="purple"
  {% if form_data.get("logo_colors") and "purple" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">紫系（幻想・神秘的）</span>
<div class="color-sample">
<span style="background-color: #ba68c8;"></span>
<span style="background-color: #ab47bc;"></span>
<span style="background-color: #9c27b0;"></span>
<span style="background-color: #8e24aa;"></span>
<span style="background-color: #7b1fa2;"></span>
</div>
</label>
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="monochrome"
  {% if form_data.get("logo_colors") and "monochrome" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">モノクロ</span>
<div class="color-sample">
<span style="background-color: #000;"></span>
<span style="background-color: #444;"></span>
<span style="background-color: #888;"></span>
<span style="background-color: #ccc;"></span>
<span style="background-color: #fff;"></span>
</div>
</label>
</div>
{% if errors and "イメージカラーは1つ以上選択してください。" in errors %}
<p class="error-text">ここを選択してください</p>
{% endif %}
</div>

<div class="form-group">
<label class="section-title">重要視する色（任意）</label>
<input name="priority_color" placeholder="例：淡いピンクなど" type="text"/>
</div>
<div class="form-group">
<label class="section-title">会社・商品名やサービス名<span class="required">※</span></label>
<input name="company_name" placeholder="例：true heart is put.など" required type="text" value="{{ form_data.get('company_name', '') }}">
{% if errors and "会社・商品名やサービス名は必須です。" in errors %}
<p class="error-text">ここを入力してください</p>
{% endif %}
</div>
<div class="form-group">
  <label class="section-title">名前の由来<span class="required">※</span></label>
  <textarea name="logo_meaning" required rows="3">{{ form_data.get('logo_meaning', '') }}</textarea>
  {% if errors and "名前の由来は必須です。" in errors %}
    <p class="error-text">ここを入力してください</p>
  {% endif %}
</div>
<div class="form-group">
  <label class="form-subtitle">ロゴイメージ<span class="required">※</span></label>
  <div class="image-select-group">

    <label class="image-option">
      <input name="logo_type" type="radio" value="symbol"
        {% if form_data.get('logo_type') == 'symbol' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="シンボルマーク" src="{{ url_for('static', filename='img/rogo-1.png') }}" />
        <span class="checkmark"></span>
      </div>
      <p>シンボルマーク</p>
    </label>

    <label class="image-option">
      <input name="logo_type" type="radio" value="text"
        {% if form_data.get('logo_type') == 'text' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="テキスト主体のマーク" src="{{ url_for('static', filename='img/rogo-2.png') }}" />
        <span class="checkmark"></span>
      </div>
      <p>テキスト主体のマーク</p>
    </label>

    <label class="image-option">
      <input name="logo_type" type="radio" value="both"
        {% if form_data.get('logo_type') == 'both' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="シンボル＋テキスト" src="{{ url_for('static', filename='img/rogo-3.png') }}" />
        <span class="checkmark"></span>
      </div>
      <p>シンボルマーク＋テキスト</p>
    </label>
  </div>

  {% if errors and "ロゴイメージの選択は必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>
<div class="form-group">
<label class="section-title">モチーフ（あればご記入ください）</label>
<textarea name="logo_motif" placeholder="例：花・太陽・動物など" rows="2"></textarea>
</div>
<div class="form-group">
<label class="section-title">ロゴに入れるテキスト（ある場合）</label>
<textarea name="logo_text" placeholder="例：店名やキャッチコピーなど" rows="2"></textarea>
</div>
<div class="form-group">
  <label class="section-title">ロゴの方向性<span class="required">※</span></label><br/>
  
  <label>
    <input name="logo_direction" type="radio" value="style"
      {% if form_data.get('logo_direction') == 'style' %}checked{% endif %}>
    雰囲気・特徴などを重視
  </label>

  <label>
    <input name="logo_direction" type="radio" value="readable"
      {% if form_data.get('logo_direction') == 'readable' %}checked{% endif %}>
    ぱっと見て文字が読めることを重視
  </label>

  {% if errors and "ロゴの方向性は必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>
<div class="form-group">
  <label class="section-title">● ロゴの使用用途を教えてください（複数可）<span class="required">※</span></label>
  <div class="logo-usage">
    <label><input name="usage" type="checkbox" value="Webサイト"
      {% if form_data.get("usage") and "Webサイト" in form_data.get("usage") %}checked{% endif %}>
      Webサイト</label>

    <label><input name="usage" type="checkbox" value="紙媒体"
      {% if form_data.get("usage") and "紙媒体" in form_data.get("usage") %}checked{% endif %}>
      名刺・封筒などの紙媒体</label>

    <label><input name="usage" type="checkbox" value="SNSアイコン"
      {% if form_data.get("usage") and "SNSアイコン" in form_data.get("usage") %}checked{% endif %}>
      SNSアイコン</label>

    <label><input name="usage" type="checkbox" value="看板・サイン"
      {% if form_data.get("usage") and "看板・サイン" in form_data.get("usage") %}checked{% endif %}>
      看板・サイン</label>

    <label><input name="usage" type="checkbox" value="パッケージ"
      {% if form_data.get("usage") and "パッケージ" in form_data.get("usage") %}checked{% endif %}>
      グッズやパッケージ</label>

    <label><input name="usage" type="checkbox" value="その他"
      {% if form_data.get("usage") and "その他" in form_data.get("usage") %}checked{% endif %}>
      その他（テキスト入力）</label>
  </div>

  {% if errors and "使用用途は1つ以上選択してください。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>

<div class="form-group">
<label class="section-title">ロゴの参考URL（あれば）</label>
<textarea name="logo_reference_url" placeholder="例：https://true-az.com/ カラーを参考にしたい など" rows="2"></textarea>
</div>
<div class="form-group">
<label class="section-title">重要視する色（任意）</label>
<input name="logo_color_priority" placeholder="例：淡いピンクなど" type="text"/>
</div>
<div class="form-group">
<label class="section-title">その他ロゴに関するご希望</label>
<textarea name="logo_other" rows="3"></textarea>
</div>
<div class="form-group" style="text-align: center;">
<button type="button" id="back-logo" class="back-button">戻る</button>
<button type="submit" class="submit-btn" onclick="return setFormTypeAndSubmit('logo_only')">送信</button>
      
    </div>
  
</div>



<div class="section hearing-form" id="card-form">
  
  <input type="hidden" name="form_type" value="card_only">

<h2 class="form-title">名刺デザイン</h2>
<div class="form-group">
  <label class="section-title">名刺の向き<span class="required">※</span></label><br/>

  <label>
    <input name="card_orientation" type="radio" value="vertical"
      {% if form_data.get('card_orientation') == 'vertical' %}checked{% endif %}>
    タテ型
  </label><br/>

  <label>
    <input name="card_orientation" type="radio" value="horizontal"
      {% if form_data.get('card_orientation') == 'horizontal' %}checked{% endif %}>
    ヨコ型
  </label><br/>

  <label>
    <input name="card_orientation" type="radio" value="auto"
      {% if form_data.get('card_orientation') == 'auto' %}checked{% endif %}>
    おまかせ
  </label>

  {% if errors and "名刺の向きは必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>

</div>
<div class="form-group">
  <label class="section-title">既存ロゴの有無<span class="required">※</span></label><br/>

  <label>
    <input name="logo_exist" type="radio" value="yes"
      {% if form_data.get('logo_exist') == 'yes' %}checked{% endif %}>
    ロゴ有り
  </label><br/>

  <label>
    <input name="logo_exist" type="radio" value="no"
      {% if form_data.get('logo_exist') == 'no' %}checked{% endif %}>
    ロゴ無し
  </label>

  {% if errors and "既存ロゴの有無は必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>

<!-- 名刺に入れる内容 -->
<div class="form-group">
  <label class="section-title">お名前<span class="required">※</span></label>
  <input name="card_name" required type="text" value="{{ form_data.get('card_name', '') }}">
  {% if errors and "お名前は必須です。" in errors %}
    <p class="error-text">ここを入力してください</p>
  {% endif %}
</div>
<div class="form-group">
<label class="section-title">フリガナ（任意）</label>
<input name="card_furigana" type="text"/>
</div>
<div class="form-group">
<label class="section-title">ローマ字（任意）</label>
<input name="card_romaji" type="text"/>
</div>
<div class="form-group">
<label class="section-title">住所・メール・SNS情報等</label>
<textarea name="card_contact" rows="3"></textarea>
</div>
<!-- 裏面に入れる内容 -->
<div class="form-group">
<label class="section-title">裏面に入れる内容（両面印刷ご希望の方のみ）</label>
<textarea name="card_back" rows="3"></textarea>
</div>
<div class="upload-area">
  <label class="section-title">既存のロゴがある場合</label>
  <label for="upload-input" class="upload-label">
    <div class="upload-icon">⬆</div>
    <div class="upload-text">画像をアップロード</div>
    <input id="upload-input" type="file" name="card_material" accept=".jpg,.jpeg,.png,.pdf" />
  </label>
  <div id="upload-status" class="upload-status"></div>

  <div class="upload-caption">画像をここにドラッグ＆ドロップしてください<br>対応形式：JPG / PNG / PDF</div>
  
</div>

<!-- QRコードURL -->
<div class="form-group">
<label class="section-title">SNS等のQRコードがある場合はURLをご記入ください</label>
<input name="qr_url" type="url"/>
</div>
<!-- ✅ デザインキーワード（名刺用） -->
<!-- 🎯 デザインキーワード（複数選択・必須） -->
<div class="form-group">
  <div class="design-keywords">
    <label class="section-title">デザインキーワード <span class="required">※</span></label>
    <div class="checkbox-grid">
      <label><input name="keywords" type="checkbox" value="可愛い・キュート" {% if form_data.get("keywords") and "可愛い・キュート" in form_data.get("keywords") %}checked{% endif %}>可愛い・キュート</label>
      <label><input name="keywords" type="checkbox" value="カジュアル" {% if form_data.get("keywords") and "カジュアル" in form_data.get("keywords") %}checked{% endif %}>カジュアル</label>
      <label><input name="keywords" type="checkbox" value="ポップ" {% if form_data.get("keywords") and "ポップ" in form_data.get("keywords") %}checked{% endif %}>ポップ</label>
      <label><input name="keywords" type="checkbox" value="カラフル" {% if form_data.get("keywords") and "カラフル" in form_data.get("keywords") %}checked{% endif %}>カラフル</label>
      <label><input name="keywords" type="checkbox" value="ゴージャス" {% if form_data.get("keywords") and "ゴージャス" in form_data.get("keywords") %}checked{% endif %}>ゴージャス</label>
      <label><input name="keywords" type="checkbox" value="にぎやか" {% if form_data.get("keywords") and "にぎやか" in form_data.get("keywords") %}checked{% endif %}>にぎやか</label>
      <label><input name="keywords" type="checkbox" value="モダン" {% if form_data.get("keywords") and "モダン" in form_data.get("keywords") %}checked{% endif %}>モダン</label>
      <label><input name="keywords" type="checkbox" value="ナチュラル" {% if form_data.get("keywords") and "ナチュラル" in form_data.get("keywords") %}checked{% endif %}>ナチュラル</label>
      <label><input name="keywords" type="checkbox" value="シック" {% if form_data.get("keywords") and "シック" in form_data.get("keywords") %}checked{% endif %}>シック</label>
      <label><input name="keywords" type="checkbox" value="クール" {% if form_data.get("keywords") and "クール" in form_data.get("keywords") %}checked{% endif %}>クール</label>
      <label><input name="keywords" type="checkbox" value="エレガント" {% if form_data.get("keywords") and "エレガント" in form_data.get("keywords") %}checked{% endif %}>エレガント</label>
      <label><input name="keywords" type="checkbox" value="高級感" {% if form_data.get("keywords") and "高級感" in form_data.get("keywords") %}checked{% endif %}>高級感</label>
      <label><input name="keywords" type="checkbox" value="知性的" {% if form_data.get("keywords") and "知性的" in form_data.get("keywords") %}checked{% endif %}>知性的</label>
      <label><input name="keywords" type="checkbox" value="パステル" {% if form_data.get("keywords") and "パステル" in form_data.get("keywords") %}checked{% endif %}>パステル</label>
      <label><input name="keywords" type="checkbox" value="シンプル" {% if form_data.get("keywords") and "シンプル" in form_data.get("keywords") %}checked{% endif %}>シンプル</label>
      <label><input name="keywords" type="checkbox" value="清潔な" {% if form_data.get("keywords") and "清潔な" in form_data.get("keywords") %}checked{% endif %}>清潔な</label>
      <label><input name="keywords" type="checkbox" value="派手" {% if form_data.get("keywords") and "派手" in form_data.get("keywords") %}checked{% endif %}>派手</label>
      <label><input name="keywords" type="checkbox" value="その他" {% if form_data.get("keywords") and "その他" in form_data.get("keywords") %}checked{% endif %}>その他</label>
    </div>

    {% if errors and "デザインキーワードは1つ以上選択してください。" in errors %}
      <p class="error-text">ここを選択してください</p>
    {% endif %}
  </div>
</div>

</div>
<!-- ✅ イメージカラー（名刺用） -->
<!-- 🎨 イメージカラー（複数選択可・必須） -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="red"
    {% if form_data.get("logo_colors") and "red" in form_data.get("logo_colors") %}checked{% endif %}>
  <span class="color-label">赤系（快活・若々しい・温かみ）</span>
  <div class="color-sample">
    <span style="background-color: #ff9999;"></span>
    <span style="background-color: #ff6666;"></span>
    <span style="background-color: #ff4d88;"></span>
    <span style="background-color: #ff3377;"></span>
    <span style="background-color: #ff66b2;"></span>
  </div>
</label>

<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="blue"
    {% if form_data.get("logo_colors") and "blue" in form_data.get("logo_colors") %}checked{% endif %}>
  <span class="color-label">青系（堅実・信頼・クール）</span>
  <div class="color-sample">
    <span style="background-color: #336699;"></span>
    <span style="background-color: #4477aa;"></span>
    <span style="background-color: #6699cc;"></span>
    <span style="background-color: #99bbdd;"></span>
    <span style="background-color: #cce5ff;"></span>
  </div>
</label>

<!-- 水色系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="lightblue"
  {% if form_data.get("logo_colors") and "lightblue" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">水色系（さわやか・信頼・クール）</span>
<div class="color-sample">
<span style="background-color: #a8e6ff;"></span>
<span style="background-color: #81d4fa;"></span>
<span style="background-color: #4fc3f7;"></span>
<span style="background-color: #29b6f6;"></span>
<span style="background-color: #03a9f4;"></span>
</div>
</label>
<!-- 茶系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="brown"
  {% if form_data.get("logo_colors") and "brown" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">茶系（自然・モダン・高級感）</span>
<div class="color-sample">
<span style="background-color: #a0522d;"></span>
<span style="background-color: #8b4513;"></span>
<span style="background-color: #a67c52;"></span>
<span style="background-color: #d2b48c;"></span>
<span style="background-color: #c8b199;"></span>
</div>
</label>
<!-- 緑系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="green"
  {% if form_data.get("logo_colors") and "green" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">緑系（健康・ナチュラル）</span>
<div class="color-sample">
<span style="background-color: #66bb6a;"></span>
<span style="background-color: #81c784;"></span>
<span style="background-color: #a5d6a7;"></span>
<span style="background-color: #c8e6c9;"></span>
<span style="background-color: #388e3c;"></span>
</div>
</label>
<!-- 黄・オレンジ系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="yellow_orange"
  {% if form_data.get("logo_colors") and "yellow_orange" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">黄・オレンジ系（ポップ・にぎやか）</span>
<div class="color-sample">
<span style="background-color: #fff176;"></span>
<span style="background-color: #ffd54f;"></span>
<span style="background-color: #ffb74d;"></span>
<span style="background-color: #ffa726;"></span>
<span style="background-color: #ff9800;"></span>
</div>
</label>
<!-- グレー系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="gray"
  {% if form_data.get("logo_colors") and "gray" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">グレー系（重厚・シック・高級感）</span>
<div class="color-sample">
<span style="background-color: #999;"></span>
<span style="background-color: #bbb;"></span>
<span style="background-color: #ccc;"></span>
<span style="background-color: #ddd;"></span>
<span style="background-color: #eee;"></span>
</div>
</label>
<!-- 紫系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="purple"
  {% if form_data.get("logo_colors") and "purple" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">紫系（幻想・神秘的）</span>
<div class="color-sample">
<span style="background-color: #ba68c8;"></span>
<span style="background-color: #ab47bc;"></span>
<span style="background-color: #9c27b0;"></span>
<span style="background-color: #8e24aa;"></span>
<span style="background-color: #7b1fa2;"></span>
</div>
</label>
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="monochrome"
  {% if form_data.get("logo_colors") and "monochrome" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">モノクロ</span>
<div class="color-sample">
<span style="background-color: #000;"></span>
<span style="background-color: #444;"></span>
<span style="background-color: #888;"></span>
<span style="background-color: #ccc;"></span>
<span style="background-color: #fff;"></span>
</div>
</label>
</div>
{% if errors and "イメージカラーは1つ以上選択してください。" in errors %}
<p class="error-text">ここを選択してください</p>
{% endif %}
</div>
</label>
<!-- 重要視する色 -->
<div class="form-group">
<label class="section-title">重要視する色（任意）</label>
<input name="important_color" placeholder="例：淡いピンクなど" type="text"/>
</div>
<div class="form-group">
  <label class="form-subtitle">ご希望のイメージフォント<span class="required">※</span></label>
  <div class="image-select-group">

    <label class="image-option">
      <input name="font" type="radio" value="font1" {% if form_data.get('font') == 'font1' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="ゴシック体" src="{{ url_for('static', filename='img/font-1.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>ゴシック体</p>
    </label>

    <label class="image-option">
      <input name="font" type="radio" value="font2" {% if form_data.get('font') == 'font2' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="明朝体" src="{{ url_for('static', filename='img/font-2.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>明朝体</p>
    </label>

    <label class="image-option">
      <input name="font" type="radio" value="font3" {% if form_data.get('font') == 'font3' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="丸ゴシック体" src="{{ url_for('static', filename='img/font-3.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>丸ゴシック体</p>
    </label>

    <label class="image-option">
      <input name="font" type="radio" value="font4" {% if form_data.get('font') == 'font4' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="楷書体" src="{{ url_for('static', filename='img/font-4.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>楷書体</p>
    </label>

    <label class="image-option">
      <input name="font" type="radio" value="font5" {% if form_data.get('font') == 'font5' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="隷書体" src="{{ url_for('static', filename='img/font-5.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>隷書体</p>
    </label>
  </div>

  {% if errors and "ご希望のイメージフォントを選択してください。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>
<!-- フォントに関する希望 -->
<div class="form-group">
<label class="section-title">フォントに関するご希望（任意）</label>
<textarea name="card_font_request" rows="3"></textarea>
</div>
<!-- 参考URL -->
<div class="form-group">
<label class="section-title">名刺デザインの参考URL（任意）</label>
<textarea name="card_reference_url" placeholder="https://true-az.com など" rows="3"></textarea>
</div>
<!-- その他ご希望 -->
<div class="form-group">
<label class="section-title">その他名刺に関するご希望（任意）</label>
<textarea name="card_other" rows="3"></textarea>
</div>
<div class="form-group" style="text-align: center;">
  <button type="button" id="back-card" class="back-button">戻る</button>
  <button type="submit" class="submit-btn" onclick="return setFormTypeAndSubmit('card_only')">送信</button>
</div>
</div>
</div>
</div>
</div>

<div class="section hearing-form" id="logo-card-form">


  <input type="hidden" name="form_type" value="logo_and_card">
<h2 class="form-title">ロゴ＋名刺デザイン ヒアリングフォーム</h2>
<!-- ターゲット層 -->
<div class="form-group">
  <label class="section-title">主なターゲット層（客層）<span class="required">※</span></label>
  <input name="target_audience" required type="text" value="{{ form_data.get('target_audience', '') }}">
  {% if errors and "主なターゲット層は必須です。" in errors %}
    <p class="error-text">ここを入力してください</p>
  {% endif %}
</div>
<div class="form-group">
  <label class="section-title">主なターゲットの年齢層<span class="required">※</span></label>
  <select name="target_age_group" required>
    <option value="">選択してください</option>
    <option value="10s" {% if form_data.get("target_age_group") == "10s" %}selected{% endif %}>10代〜</option>
    <option value="20s-30s" {% if form_data.get("target_age_group") == "20s-30s" %}selected{% endif %}>20〜30代</option>
    <option value="40s-50s" {% if form_data.get("target_age_group") == "40s-50s" %}selected{% endif %}>40〜50代</option>
    <option value="60s" {% if form_data.get("target_age_group") == "60s" %}selected{% endif %}>60代〜</option>
  </select>

  {% if errors and "ターゲットの年齢層は必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>

<!-- ロゴ情報 -->
<div class="form-group">
  <label class="section-title">会社・商品名やサービス名<span class="required">※</span></label>
  <input name="logo_company" required type="text" value="{{ form_data.get('logo_company', '') }}">
  {% if errors and "会社・商品名は必須です。" in errors %}
    <p class="error-text">ここを入力してください</p>
  {% endif %}
</div>

<div class="form-group">
  <label class="section-title">名前の由来<span class="required">※</span></label>
  <textarea name="logo_meaning" required rows="3">{{ form_data.get('logo_meaning', '') }}</textarea>
  {% if errors and "名前の由来は必須です。" in errors %}
    <p class="error-text">ここを入力してください</p>
  {% endif %}
</div>

<div class="form-group">
  <label class="section-title">ロゴの種類<span class="required">※</span></label><br/>

  <label>
    <input name="logo_type" type="radio" value="symbol"
      {% if form_data.get('logo_type') == 'symbol' %}checked{% endif %}>
    シンボルマーク
  </label><br/>

  <label>
    <input name="logo_type" type="radio" value="text"
      {% if form_data.get('logo_type') == 'text' %}checked{% endif %}>
    テキスト主体のマーク
  </label><br/>

  <label>
    <input name="logo_type" type="radio" value="both"
      {% if form_data.get('logo_type') == 'both' %}checked{% endif %}>
    シンボルマーク＋テキスト
  </label>

  {% if errors and "ロゴイメージは必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>

<div class="form-group">
<label class="section-title">モチーフ（任意）</label>
<textarea name="logo_motif" placeholder="例：花・太陽・動物など" rows="2"></textarea>
</div>
<div class="form-group">
<label class="section-title">ロゴに入れるテキスト（任意）</label>
<textarea name="logo_text" rows="2"></textarea>
</div>
<div class="form-group">
  <label class="section-title">ロゴの方向性<span class="required">※</span></label><br/>

  <label>
    <input name="logo_direction" type="radio" value="style"
      {% if form_data.get('logo_direction') == 'style' %}checked{% endif %}>
    雰囲気重視
  </label><br/>

  <label>
    <input name="logo_direction" type="radio" value="readable"
      {% if form_data.get('logo_direction') == 'readable' %}checked{% endif %}>
    読みやすさ重視
  </label>

  {% if errors and "ロゴの方向性は必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>

<div class="form-group">
    <label class="section-title">● ロゴの使用用途を教えてください（複数可）<span class="required">※</span></label>
    <div class="logo-usage">
      <label><input name="usage" type="checkbox" value="Webサイト"
        {% if form_data.get("usage") and "Webサイト" in form_data.get("usage") %}checked{% endif %}>
        Webサイト</label>
  
      <label><input name="usage" type="checkbox" value="紙媒体"
        {% if form_data.get("usage") and "紙媒体" in form_data.get("usage") %}checked{% endif %}>
        名刺・封筒などの紙媒体</label>
  
      <label><input name="usage" type="checkbox" value="SNSアイコン"
        {% if form_data.get("usage") and "SNSアイコン" in form_data.get("usage") %}checked{% endif %}>
        SNSアイコン</label>
  
      <label><input name="usage" type="checkbox" value="看板・サイン"
        {% if form_data.get("usage") and "看板・サイン" in form_data.get("usage") %}checked{% endif %}>
        看板・サイン</label>
  
      <label><input name="usage" type="checkbox" value="パッケージ"
        {% if form_data.get("usage") and "パッケージ" in form_data.get("usage") %}checked{% endif %}>
        グッズやパッケージ</label>
  
      <label><input name="usage" type="checkbox" value="その他"
        {% if form_data.get("usage") and "その他" in form_data.get("usage") %}checked{% endif %}>
        その他（テキスト入力）</label>
    </div>
  
    {% if errors and "使用用途は1つ以上選択してください。" in errors %}
      <p class="error-text">ここを選択してください</p>
    {% endif %}
  </div>
            
<div class="form-group">
<input name="usage_other_text" placeholder="その他の使用用途をご記入ください" style="width:100%; padding:0.6rem; border:1px solid #ccc; border-radius:6px; margin-top:8px;" type="text"/>
</div>
<!-- 名刺に入れる内容 -->
<div class="form-group">
  <label class="section-title">お名前<span class="required">※</span></label>
  <input name="card_name" required type="text" value="{{ form_data.get('card_name', '') }}">
  {% if errors and "表記名（名刺）は必須です。" in errors %}
    <p class="error-text">ここを入力してください</p>
  {% endif %}
</div>

  <div class="form-group">
  <label class="section-title">フリガナ（任意）</label>
  <input name="card_furigana" type="text"/>
  </div>
  <div class="form-group">
  <label class="section-title">ローマ字（任意）</label>
  <input name="card_romaji" type="text"/>
  </div>
  <div class="form-group">
  <label class="section-title">住所・メール・SNS情報等</label>
  <textarea name="card_contact" rows="3"></textarea>
  </div>
  <!-- 裏面に入れる内容 -->
  <div class="form-group">
  <label class="section-title">裏面に入れる内容（両面印刷ご希望の方のみ）</label>
  <textarea name="card_back" rows="3"></textarea>
  </div>
  
  <!-- QRコードURL -->
  <div class="form-group">
  <label class="section-title">SNS等のQRコードがある場合はURLをご記入ください</label>
  <input name="qr_url" type="url"/>
  </div>

<!-- 共通・分割キーワード -->
<div class="form-group">
  <label class="section-title">デザインキーワード（複数可）<span class="required">※</span></label>
  <p>ロゴ・名刺共通の場合は1回でOKです。</p>
  <p>ロゴ・名刺で分けたい場合は下記にそれぞれご記入ください。</p>

  <!-- 🎯 デザインキーワード（複数選択・必須） -->
<div class="form-group">
  <div class="design-keywords">
    <label class="section-title">デザインキーワード <span class="required">※</span></label>
    <div class="checkbox-grid">
      <label><input name="keywords" type="checkbox" value="可愛い・キュート" {% if form_data.get("keywords") and "可愛い・キュート" in form_data.get("keywords") %}checked{% endif %}>可愛い・キュート</label>
      <label><input name="keywords" type="checkbox" value="カジュアル" {% if form_data.get("keywords") and "カジュアル" in form_data.get("keywords") %}checked{% endif %}>カジュアル</label>
      <label><input name="keywords" type="checkbox" value="ポップ" {% if form_data.get("keywords") and "ポップ" in form_data.get("keywords") %}checked{% endif %}>ポップ</label>
      <label><input name="keywords" type="checkbox" value="カラフル" {% if form_data.get("keywords") and "カラフル" in form_data.get("keywords") %}checked{% endif %}>カラフル</label>
      <label><input name="keywords" type="checkbox" value="ゴージャス" {% if form_data.get("keywords") and "ゴージャス" in form_data.get("keywords") %}checked{% endif %}>ゴージャス</label>
      <label><input name="keywords" type="checkbox" value="にぎやか" {% if form_data.get("keywords") and "にぎやか" in form_data.get("keywords") %}checked{% endif %}>にぎやか</label>
      <label><input name="keywords" type="checkbox" value="モダン" {% if form_data.get("keywords") and "モダン" in form_data.get("keywords") %}checked{% endif %}>モダン</label>
      <label><input name="keywords" type="checkbox" value="ナチュラル" {% if form_data.get("keywords") and "ナチュラル" in form_data.get("keywords") %}checked{% endif %}>ナチュラル</label>
      <label><input name="keywords" type="checkbox" value="シック" {% if form_data.get("keywords") and "シック" in form_data.get("keywords") %}checked{% endif %}>シック</label>
      <label><input name="keywords" type="checkbox" value="クール" {% if form_data.get("keywords") and "クール" in form_data.get("keywords") %}checked{% endif %}>クール</label>
      <label><input name="keywords" type="checkbox" value="エレガント" {% if form_data.get("keywords") and "エレガント" in form_data.get("keywords") %}checked{% endif %}>エレガント</label>
      <label><input name="keywords" type="checkbox" value="高級感" {% if form_data.get("keywords") and "高級感" in form_data.get("keywords") %}checked{% endif %}>高級感</label>
      <label><input name="keywords" type="checkbox" value="知性的" {% if form_data.get("keywords") and "知性的" in form_data.get("keywords") %}checked{% endif %}>知性的</label>
      <label><input name="keywords" type="checkbox" value="パステル" {% if form_data.get("keywords") and "パステル" in form_data.get("keywords") %}checked{% endif %}>パステル</label>
      <label><input name="keywords" type="checkbox" value="シンプル" {% if form_data.get("keywords") and "シンプル" in form_data.get("keywords") %}checked{% endif %}>シンプル</label>
      <label><input name="keywords" type="checkbox" value="清潔な" {% if form_data.get("keywords") and "清潔な" in form_data.get("keywords") %}checked{% endif %}>清潔な</label>
      <label><input name="keywords" type="checkbox" value="派手" {% if form_data.get("keywords") and "派手" in form_data.get("keywords") %}checked{% endif %}>派手</label>
      <label><input name="keywords" type="checkbox" value="その他" {% if form_data.get("keywords") and "その他" in form_data.get("keywords") %}checked{% endif %}>その他</label>
    </div>

    {% if errors and "デザインキーワードは1つ以上選択してください。" in errors %}
      <p class="error-text">ここを選択してください</p>
    {% endif %}
  </div>
</div>


  <label class="section-title">ロゴ用デザインキーワード（任意）</label>
  <textarea name="logo_keywords_note" rows="2">{{ form_data.get('logo_keywords_note', '') }}</textarea>

  <label class="section-title">名刺用デザインキーワード（任意）</label>
  <textarea name="card_keywords_note" rows="2">{{ form_data.get('card_keywords_note', '') }}</textarea>
</div>

<!-- 共通・分割イメージカラー -->
<div class="form-group">
  <label class="section-title">イメージカラー（複数選択可）<span class="required">※</span></label>
  <p>ロゴ・名刺共通の場合は1回でOKです。</p>
  <p>ロゴ・名刺で分けたい場合は下記にそれぞれご記入ください。</p>

  <!-- 🎨 イメージカラー（複数選択可・必須） -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="red"
    {% if form_data.get("logo_colors") and "red" in form_data.get("logo_colors") %}checked{% endif %}>
  <span class="color-label">赤系（快活・若々しい・温かみ）</span>
  <div class="color-sample">
    <span style="background-color: #ff9999;"></span>
    <span style="background-color: #ff6666;"></span>
    <span style="background-color: #ff4d88;"></span>
    <span style="background-color: #ff3377;"></span>
    <span style="background-color: #ff66b2;"></span>
  </div>
</label>

<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="blue"
    {% if form_data.get("logo_colors") and "blue" in form_data.get("logo_colors") %}checked{% endif %}>
  <span class="color-label">青系（堅実・信頼・クール）</span>
  <div class="color-sample">
    <span style="background-color: #336699;"></span>
    <span style="background-color: #4477aa;"></span>
    <span style="background-color: #6699cc;"></span>
    <span style="background-color: #99bbdd;"></span>
    <span style="background-color: #cce5ff;"></span>
  </div>
</label>

<!-- 水色系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="lightblue"
  {% if form_data.get("logo_colors") and "lightblue" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">水色系（さわやか・信頼・クール）</span>
<div class="color-sample">
<span style="background-color: #a8e6ff;"></span>
<span style="background-color: #81d4fa;"></span>
<span style="background-color: #4fc3f7;"></span>
<span style="background-color: #29b6f6;"></span>
<span style="background-color: #03a9f4;"></span>
</div>
</label>
<!-- 茶系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="brown"
  {% if form_data.get("logo_colors") and "brown" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">茶系（自然・モダン・高級感）</span>
<div class="color-sample">
<span style="background-color: #a0522d;"></span>
<span style="background-color: #8b4513;"></span>
<span style="background-color: #a67c52;"></span>
<span style="background-color: #d2b48c;"></span>
<span style="background-color: #c8b199;"></span>
</div>
</label>
<!-- 緑系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="green"
  {% if form_data.get("logo_colors") and "green" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">緑系（健康・ナチュラル）</span>
<div class="color-sample">
<span style="background-color: #66bb6a;"></span>
<span style="background-color: #81c784;"></span>
<span style="background-color: #a5d6a7;"></span>
<span style="background-color: #c8e6c9;"></span>
<span style="background-color: #388e3c;"></span>
</div>
</label>
<!-- 黄・オレンジ系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="yellow_orange"
  {% if form_data.get("logo_colors") and "yellow_orange" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">黄・オレンジ系（ポップ・にぎやか）</span>
<div class="color-sample">
<span style="background-color: #fff176;"></span>
<span style="background-color: #ffd54f;"></span>
<span style="background-color: #ffb74d;"></span>
<span style="background-color: #ffa726;"></span>
<span style="background-color: #ff9800;"></span>
</div>
</label>
<!-- グレー系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="gray"
  {% if form_data.get("logo_colors") and "gray" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">グレー系（重厚・シック・高級感）</span>
<div class="color-sample">
<span style="background-color: #999;"></span>
<span style="background-color: #bbb;"></span>
<span style="background-color: #ccc;"></span>
<span style="background-color: #ddd;"></span>
<span style="background-color: #eee;"></span>
</div>
</label>
<!-- 紫系 -->
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="purple"
  {% if form_data.get("logo_colors") and "purple" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">紫系（幻想・神秘的）</span>
<div class="color-sample">
<span style="background-color: #ba68c8;"></span>
<span style="background-color: #ab47bc;"></span>
<span style="background-color: #9c27b0;"></span>
<span style="background-color: #8e24aa;"></span>
<span style="background-color: #7b1fa2;"></span>
</div>
</label>
<label class="color-checkbox">
  <input name="logo_colors" type="checkbox" value="monochrome"
  {% if form_data.get("logo_colors") and "monochrome" in form_data.get("logo_colors") %}checked{% endif %}>
<span class="color-label">モノクロ</span>
<div class="color-sample">
<span style="background-color: #000;"></span>
<span style="background-color: #444;"></span>
<span style="background-color: #888;"></span>
<span style="background-color: #ccc;"></span>
<span style="background-color: #fff;"></span>
</div>
</label>
</div>
{% if errors and "イメージカラーは1つ以上選択してください。" in errors %}
<p class="error-text">ここを選択してください</p>
{% endif %}
</div>

  <label class="section-title">ロゴ用イメージカラー（任意）</label>
  <textarea name="logo_colors_note" rows="2">{{ form_data.get('logo_colors_note', '') }}</textarea>

  <label>名刺用イメージカラー（任意）</label>
  <textarea name="card_colors_note" rows="2">{{ form_data.get('card_colors_note', '') }}</textarea>
</div>
<div class="form-group">
<label class="section-title">重要視する色（任意）</label>
<input name="priority_color" placeholder="例：淡いピンクなど" type="text"/>
</div>
<div class="form-group">
  <label class="form-subtitle">ロゴイメージ<span class="required">※</span></label>
  <div class="image-select-group">

    <label class="image-option">
      <input name="logo_type" type="radio" value="symbol" {% if form_data.get('logo_type') == 'symbol' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="シンボルマーク" src="{{ url_for('static', filename='img/rogo-1.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>シンボルマーク</p>
    </label>

    <label class="image-option">
      <input name="logo_type" type="radio" value="text" {% if form_data.get('logo_type') == 'text' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="テキスト主体のマーク" src="{{ url_for('static', filename='img/rogo-2.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>テキスト主体のマーク</p>
    </label>

    <label class="image-option">
      <input name="logo_type" type="radio" value="both" {% if form_data.get('logo_type') == 'both' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="シンボル＋テキスト" src="{{ url_for('static', filename='img/rogo-3.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>シンボルマーク＋テキスト</p>
    </label>
  </div>

  {% if errors and "ロゴイメージは必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>

<!-- フォント -->
<div class="form-group">
  <label class="form-subtitle">ご希望のイメージフォント<span class="required">※</span></label>
  <div class="image-select-group">

    <label class="image-option">
      <input name="font" type="radio" value="font1" {% if form_data.get('font') == 'font1' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="ゴシック体" src="{{ url_for('static', filename='img/font-1.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>ゴシック体</p>
    </label>

    <label class="image-option">
      <input name="font" type="radio" value="font2" {% if form_data.get('font') == 'font2' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="明朝体" src="{{ url_for('static', filename='img/font-2.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>明朝体</p>
    </label>

    <label class="image-option">
      <input name="font" type="radio" value="font3" {% if form_data.get('font') == 'font3' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="丸ゴシック体" src="{{ url_for('static', filename='img/font-3.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>丸ゴシック体</p>
    </label>

    <label class="image-option">
      <input name="font" type="radio" value="font4" {% if form_data.get('font') == 'font4' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="楷書体" src="{{ url_for('static', filename='img/font-4.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>楷書体</p>
    </label>

    <label class="image-option">
      <input name="font" type="radio" value="font5" {% if form_data.get('font') == 'font5' %}checked{% endif %}>
      <div class="image-wrapper">
        <img alt="隷書体" src="{{ url_for('static', filename='img/font-5.png') }}">
        <span class="checkmark"></span>
      </div>
      <p>隷書体</p>
    </label>
  </div>

  {% if errors and "ご希望のフォントは必須です。" in errors %}
    <p class="error-text">ここを選択してください</p>
  {% endif %}
</div>

<div class="form-group">
  <label>フォントに関するご希望（任意）</label>
  <textarea name="font_notes" rows="2">{{ form_data.get('font_notes', '') }}</textarea>
</div>

<!-- その他 -->

              <div class="form-group">
<label>参考にしたいURL（任意）</label>
<textarea name="reference_url" placeholder="https://true-az.com など" rows="2"></textarea>
</div>
<div class="form-group">
<label>その他ご希望（任意）</label>
<textarea name="other_requests" rows="3"></textarea>
</div>
</div>
<div class="form-group" style="text-align: center;">
  <button type="button" id="back-logo-card" class="back-button">戻る</button>
  <button type="submit" class="submit-btn" onclick="return setFormTypeAndSubmit('logo_and_card')">送信</button>

</div>

</div>
 <!-- ← フォーム閉じタグ -->
</form>
</div> <!-- ← .form-container -->
</div> <!-- ← .form-wrapper -->

</div>

</body>

<script>
   // ⭐️ ここに追加してね！
   function disableFormElements(form, disable = true) {
    const elements = form.querySelectorAll("input, select, textarea");
    elements.forEach(el => {
      el.disabled = disable;
    });
  }
  
  function setFormTypeAndSubmit(type) {
    const formTypeInput = document.getElementById("form_type");
    if (formTypeInput) {
      formTypeInput.value = type;

      const form = formTypeInput.closest("form");
      if (form) {
        form.submit();
      }
    }

    return false;
  }

  document.addEventListener("DOMContentLoaded", function () {
    const nextBtn = document.getElementById("next-button");
    const radioButtons = document.querySelectorAll('input[name="item_choice"]');
    const logoForm = document.getElementById("logo-form");
    const cardForm = document.getElementById("card-form");
    const logoCardForm = document.getElementById("logo-card-form");
    const basicInfoForm = document.getElementById("basic-info-form");
    const uploadInput = document.getElementById("upload-input");
    const uploadStatus = document.getElementById("upload-status");

    // ✅ アップロードファイル関連の改善版
    if (uploadInput && uploadStatus) {
      uploadInput.addEventListener("change", function () {
        if (uploadInput.files.length > 0) {
          const file = uploadInput.files[0];
          
          if (file.type.startsWith('image/')) {
  console.log("✅ 画像として判定されました", file);

  const reader = new FileReader();
  reader.onload = function(e) {
    console.log("📸 プレビューのbase64結果:", e.target.result);

    const previewHTML = `
      <div style="margin-top: 10px;">
        <p style="font-size: 0.9em; color: #555; margin-bottom: 5px;">プレビュー:</p>
        <img src="${e.target.result}" style="max-width: 200px; max-height: 200px; border: 1px solid #ddd; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);" />
      </div>
    `;
  };
  reader.readAsDataURL(file);
}

          
          // ファイル情報表示の強化
          let statusHTML = `<div style="background-color: #e7f7e7; border: 2px solid #4caf50; border-radius: 5px; padding: 10px; margin: 10px 0; display: flex; align-items: center;">`;
          statusHTML += `<span style="color: #4caf50; font-size: 1.5em; margin-right: 10px;">✅</span>`;
          statusHTML += `<div><strong>${file.name}</strong> を選択しました`;
          statusHTML += `<div style="font-size: 0.8em; color: #666;">(${(file.size / 1024).toFixed(1)} KB)</div></div></div>`;
          
         
          
          // 画像ファイルの場合はプレビューを表示
          if (file.type.startsWith('image/')) {
            const reader = new FileReader();
            reader.onload = function(e) {
              const previewHTML = `
                <div style="margin-top: 10px;">
                  <p style="font-size: 0.9em; color: #555; margin-bottom: 5px;">プレビュー:</p>
                  <img src="${e.target.result}" style="max-width: 200px; max-height: 200px; border: 1px solid #ddd; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);" />
                </div>
              `;
              uploadStatus.innerHTML = statusHTML + previewHTML;

            }
            reader.readAsDataURL(file);
          }
        } else {
          uploadStatus.innerHTML = "";
        }
      });
    }

    nextBtn.addEventListener("click", function () {
  // 🔍 ここを追加！
  const requiredFields = basicInfoForm.querySelectorAll("[required]");
  for (let field of requiredFields) {
    if (!field.value.trim()) {
      alert("すべての必須項目を入力してください！");
      field.focus();
      return;  // 未入力があったら止める！
    }
  }

  const selected = document.querySelector('input[name="item_choice"]:checked');
  // 全部非表示＆無効化
  [logoForm, cardForm, logoCardForm].forEach(form => {
    form.style.display = "none";
    disableFormElements(form, true);
  });

  if (selected) {
    const formType = selected.value;

    if (formType === "logo") {
      logoForm.style.display = "block";
      disableFormElements(logoForm, false);
    } else if (formType === "business_card") {
      cardForm.style.display = "block";
      disableFormElements(cardForm, false);
    } else if (formType === "both") {
      logoCardForm.style.display = "block";
      disableFormElements(logoCardForm, false);
    }
  } else {
    alert("アイテムを選択してください！");
  }
});


      document.querySelectorAll(".back-button").forEach(btn => {
        btn.addEventListener("click", function () {
          logoForm.style.display = "none";
          cardForm.style.display = "none";
          logoCardForm.style.display = "none";

          basicInfoForm.removeAttribute("style");

         // 🔁 hearing-form も戻す
    const hearingForm = document.querySelector(".hearing-form");
    hearingForm.style.display = "block";
    hearingForm.style.padding = "2rem";  // ← これも元々のCSSで指定してるならなくてもOKやで
      });
    }); // ←ここでもう一つ閉じる
}); // ←★最後にこの document.addEventListener を閉じる
</script>




<!-- キャッシュ回避用コメント: updated 2025-04-17 -->

</html>